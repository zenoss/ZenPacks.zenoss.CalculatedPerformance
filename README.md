# ZenPacks.zenoss.CalculatedPerformance## AboutThis project is a [Zenoss] extension (ZenPack) that performs calculations of device or component attributes and provides the results via a new data point value. The new value can then be plotted into a new or existing RRD graph.  This extension will add a new daemon (zencalcperfd) and a new data source (Calculated Performance).As an example, a new data point might take the data from two other data points on the same template, average them and convert the result to a percentage using a modeled device attribute. More concretely, a network IpInterface can be used to take the total number of packets and divide that number by the total number of errors. The resulting value provides the percentage of errors on the interface over time.   ## InstallationYou must first have, or install, Zenoss 3.1.0 or later. Core and Enterprise versions are supported. You can download the free Core version of Zenoss from<http://community.zenoss.org/community/download>.### Normal Installation (packaged egg)Download the [latest CalculatedPerformance ZenPack]. Copy this file to your Zenoss server and run the following commands as the zenoss user.    zenpack --install ZenPacks.zenoss.CalculatedPerformance-1.0.3-py2.6.egg    zenoss restart### Developer Installation (link mode)If you wish to further develop and possibly contribute back to the CalculatedPerformance ZenPack you should clone the [git repository], then install the ZenPack in developer mode using the following commands.    git clone git://github.com/zenoss/ZenPacks.zenoss.CalculatedPerformance.git    zenpack --link --install ZenPacks.zenoss.CalculatedPerformance    zenoss restart### Distributed Collector Environment
As with any ZenPack installation, If you have a distributed collector environment you must install the ZenPack on any collector that utilizes this extension.
## UsageOnce the CalculatedPerformance ZenPack is installed you can begin creating new data points. 1.	Navigate to the template that you would like to modify.2.	From the Data Sources area, click the plus sign to add a new data source.3.	Provide a unique name for the data source and select “*Calculated Performance*” from the drop down list and select “**Submit**”.4.	Double click on the new data source to edit the properties.5.	Specify the parameters for the data source	- **Name**: The name of the data source	- **Expression**: Used to create the new data point value. 		For example, (hw.totalMemory – memAvailReal) / hw.totalMemory		The above expression uses the totalMemory attribute modeled from the device and uses the RRD data point memAvailReal to calculate a percentage used.	- **Severity**: The severity to apply to the event.	- **Event Class**: The event class to which any events will be sent on errors.	- **Event Key**: The event key which will help determine the event class if ‘/Unknown’ is the event class.6.	Click Save to create the data source and to automatically create a data point.You now have a new data point to utilize on your graphs that will be calculated every 60 seconds.Be aware that your expression can contain device attributes and RRD data points from the same class. These will be evaluated in the following order RRD data points followed by device attributes. So in the case where you have a attribute with the same name as an RRD data point the RRD data point information would be used to calculate the value. [Zenoss]: http://www.zenoss.com/[latest CalculatedPerformance ZenPack]: https://github.com/downloads/zenoss/ZenPacks.zenoss.CalculatedPerformance/ZenPacks.zenoss.CalculatedPerformance-1.0.3-py2.6.egg[git repository]: <https://github.com/zenoss/ZenPacks.zenoss.CalculatedPerformance>